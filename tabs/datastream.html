<div ng-controller="datastreamController">

    <div class="flybrix-plot-holder">
        <div class="flybrix-plot-title">DATA RATE</div>
        <div id="data-rate-plot" class="data-rate-plot"></div>
    </div>

    <p style="margin-bottom: 10px; margin-top: 10px; font-weight: bold;">Data transfer:</p>
    <div>
        <span style="float:left; min-width:100px; margin-right: 10px">Target delay factor</span>
        <input type="number" min="0" max="1001" step="1" value="500" id="target-delay" style="float:left; min-width:100px; margin-right: 10px"></input>

        <span style="float:left; min-width:100px; margin-right: 10px">Target Rate (Hz)</span>
        <output type="number" id="target-rate" style="float:left; width:100px; height: 16px; margin-right: 10px; background-color:#ffffff"></output>

        <span style="float:left; min-width:100px; margin-right: 10px">Actual Rate (Hz)</span>
        <output type="number" style="float:left; width:100px; height: 16px; margin-right: 10px; background-color:#ffffff">{{slowStateUpdateRate|number:5}}</output>
    </div>

    <p style="margin-bottom: 10px; margin-top: 50px;font-weight: bold;">State data:</p>
    <div id="current-state">
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="0" value="value"></input>
            <span class="model-entry-title">timestamp_us</span>
            <label class="model-entry-label">mpu usec counter<output>{{slowState.timestamp_us|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="1" value="value"></input>
            <span class="model-entry-title">status</span>
            <label class="model-entry-label">state status bitfield<output>{{slowState.status|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="2" value="value"></input>
            <span class="model-entry-title">V0_raw</span>
            <label class="model-entry-label">battery voltage<output>{{slowState.V0_raw|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="3" value="value"></input>
            <span class="model-entry-title">I0_raw</span>
            <label class="model-entry-label">total current<output>{{slowState.I0_raw|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="4" value="value"></input>
            <span class="model-entry-title">I1_raw</span>
            <label class="model-entry-label">electronics current<output>{{slowState.I1_raw|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="5" value="value"></input>
            <span class="model-entry-title">accel</span>
            <label class="model-entry-label">x-axis<output>{{slowState.accel[0]|number:3}}</output></label>
            <label class="model-entry-label">y-axis<output>{{slowState.accel[1]|number:3}}</output></label>
            <label class="model-entry-label">z-axis<output>{{slowState.accel[2]|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="6" value="value"></input>
            <span class="model-entry-title">gyro</span>
            <label class="model-entry-label">x-axis<output>{{slowState.gyro[0]|number:3}}</output></label>
            <label class="model-entry-label">y-axis<output>{{slowState.gyro[1]|number:3}}</output></label>
            <label class="model-entry-label">z-axis<output>{{slowState.gyro[2]|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="7" value="value"></input>
            <span class="model-entry-title">mag</span>
            <label class="model-entry-label">x-axis<output>{{slowState.mag[0]|number:3}}</output></label>
            <label class="model-entry-label">y-axis<output>{{slowState.mag[1]|number:3}}</output></label>
            <label class="model-entry-label">z-axis<output>{{slowState.mag[2]|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="8" value="value"></input>
            <span class="model-entry-title">temperature</span>
            <label class="model-entry-label">BMP280 T<output>{{slowState.temperature|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="9" value="value"></input>
            <span class="model-entry-title">pressure</span>
            <label class="model-entry-label">BMP280 P<output>{{slowState.pressure|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="10" value="value"></input>
            <span class="model-entry-title">ppm</span>
            <label class="model-entry-label">CH0<output>{{slowState.ppm[0]|number:0}}</output></label>
            <label class="model-entry-label">CH1<output>{{slowState.ppm[1]|number:0}}</output></label>
            <label class="model-entry-label">CH2<output>{{slowState.ppm[2]|number:0}}</output></label>
            <label class="model-entry-label">CH3<output>{{slowState.ppm[3]|number:0}}</output></label>
            <label class="model-entry-label">CH4<output>{{slowState.ppm[4]|number:0}}</output></label>
            <label class="model-entry-label">CH5<output>{{slowState.ppm[5]|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="11" value="value"></input>
            <span class="model-entry-title">AUX_chan_mask</span>
            <label class="model-entry-label">bitfield<output>{{slowState.AUX_chan_mask|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="12" value="value"></input>
            <span class="model-entry-title">command</span>
            <label class="model-entry-label">thrust<output>{{slowState.command[0]|number:0}}</output></label>
            <label class="model-entry-label">pitch<output>{{slowState.command[1]|number:0}}</output></label>
            <label class="model-entry-label">roll<output>{{slowState.command[2]|number:0}}</output></label>
            <label class="model-entry-label">yaw<output>{{slowState.command[3]|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="13" value="value"></input>
            <span class="model-entry-title">control</span>
            <label class="model-entry-label">Fz<output>{{slowState.control[0]|number:3}}</output></label>
            <label class="model-entry-label">Tx<output>{{slowState.control[1]|number:3}}</output></label>
            <label class="model-entry-label">Ty<output>{{slowState.control[2]|number:3}}</output></label>
            <label class="model-entry-label">Tz<output>{{slowState.control[3]|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="15" value="value"></input>
            <span class="model-entry-title">pid_master_Fz</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_master_Fz[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_master_Fz[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_master_Fz[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_master_Fz[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_master_Fz[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_master_Fz[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="16" value="value"></input>
            <span class="model-entry-title">pid_master_Tx</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_master_Tx[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_master_Tx[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_master_Tx[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_master_Tx[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_master_Tx[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_master_Tx[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="17" value="value"></input>
            <span class="model-entry-title">pid_master_Ty</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_master_Ty[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_master_Ty[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_master_Ty[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_master_Ty[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_master_Ty[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_master_Ty[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="18" value="value"></input>
            <span class="model-entry-title">pid_master_Tz</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_master_Tz[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_master_Tz[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_master_Tz[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_master_Tz[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_master_Tz[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_master_Tz[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="19" value="value"></input>
            <span class="model-entry-title">pid_slave_Fz</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_slave_Fz[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_slave_Fz[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_slave_Fz[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_slave_Fz[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_slave_Fz[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_slave_Fz[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="20" value="value"></input>
            <span class="model-entry-title">pid_slave_Tx</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_slave_Tx[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_slave_Tx[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_slave_Tx[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_slave_Tx[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_slave_Tx[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_slave_Tx[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="21" value="value"></input>
            <span class="model-entry-title">pid_slave_Ty</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_slave_Ty[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_slave_Ty[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_slave_Ty[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_slave_Ty[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_slave_Ty[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_slave_Ty[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="22" value="value"></input>
            <span class="model-entry-title">pid_slave_Tz</span>
            <label class="model-entry-label">update time<output>{{slowState.pid_slave_Tz[0]|number:0}}</output></label>
            <label class="model-entry-label">input<output>{{slowState.pid_slave_Tz[1]|number:2}}</output></label>
            <label class="model-entry-label">setpoint<output>{{slowState.pid_slave_Tz[2]|number:2}}</output></label>
            <label class="model-entry-label">p_term<output>{{slowState.pid_slave_Tz[3]|number:2}}</output></label>
            <label class="model-entry-label">i_term<output>{{slowState.pid_slave_Tz[4]|number:2}}</output></label>
            <label class="model-entry-label">d_term<output>{{slowState.pid_slave_Tz[5]|number:2}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="23" value="value"></input>
            <span class="model-entry-title">MotorOut</span>
            <label class="model-entry-label">CH0<output>{{slowState.MotorOut[0]|number:0}}</output></label>
            <label class="model-entry-label">CH1<output>{{slowState.MotorOut[1]|number:0}}</output></label>
            <label class="model-entry-label">CH2<output>{{slowState.MotorOut[2]|number:0}}</output></label>
            <label class="model-entry-label">CH3<output>{{slowState.MotorOut[3]|number:0}}</output></label>
            <label class="model-entry-label">CH4<output>{{slowState.MotorOut[4]|number:0}}</output></label>
            <label class="model-entry-label">CH5<output>{{slowState.MotorOut[5]|number:0}}</output></label>
            <label class="model-entry-label">CH6<output>{{slowState.MotorOut[6]|number:0}}</output></label>
            <label class="model-entry-label">CH7<output>{{slowState.MotorOut[7]|number:0}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="24" value="value"></input>
            <span class="model-entry-title">kinematicsAngle</span>
            <label class="model-entry-label">pitch<output>{{slowState.kinematicsAngle[0]|number:5}}</output></label>
            <label class="model-entry-label">roll<output>{{slowState.kinematicsAngle[1]|number:5}}</output></label>
            <label class="model-entry-label">yaw<output>{{slowState.kinematicsAngle[2]|number:5}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="25" value="value"></input>
            <span class="model-entry-title">kinematicsRate</span>
            <label class="model-entry-label">pitch rate<output>{{slowState.kinematicsRate[0]|number:5}}</output></label>
            <label class="model-entry-label">roll rate<output>{{slowState.kinematicsRate[1]|number:5}}</output></label>
            <label class="model-entry-label">yaw rate<output>{{slowState.kinematicsRate[2]|number:5}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="26" value="value"></input>
            <span class="model-entry-title">kinematicsAltitude</span>
            <label class="model-entry-label">altitude<output>{{slowState.kinematicsAltitude|number:3}}</output></label>
        </div>
        <div class="model-entry">
            <input type="checkbox" class="model-change-mask" id="27" value="value"></input>
            <span class="model-entry-title">loopCount</span>
            <label class="model-entry-label">iterations<output>{{slowState.loopCount|number:0}}</output></label>
        </div>
    </div>

    <p style="margin-bottom: 10px; margin-top: 40px; font-weight: bold;">Save to file:</p>

    <div class="flybrix-filehandler-holder">
        <div id="capture-mode-filehandler" class="capture-mode-filehandler"></div>
    </div>

</div>
