<div ng-controller="signalsController">

    <div plot-series value="{x:state.timestamp_us, y:state.ppm}" labels="CH0 (usec)|CH1 (usec)|CH2 (usec)|CH3 (usec)|CH4 (usec)|CH5 (usec)" title="Received PPM Signals"/>

    <div class= "command-settings">
        <div class="command-settings-channel-midpoints">
            <div class="command-settings-label">CH0 Midpoint</div><input class="command-settings-channelMidpoint-field channelMidpoint 0"/>
            <div class="command-settings-label">CH1 Midpoint</div><input class="command-settings-channelMidpoint-field channelMidpoint 1"/>
            <div class="command-settings-label">CH2 Midpoint</div><input class="command-settings-channelMidpoint-field channelMidpoint 2"/>
            <div class="command-settings-label">CH3 Midpoint</div><input class="command-settings-channelMidpoint-field channelMidpoint 3"/>
            <div class="command-settings-label">CH4 Midpoint</div><input class="command-settings-channelMidpoint-field channelMidpoint 4"/>
            <div class="command-settings-label">CH5 Midpoint</div><input class="command-settings-channelMidpoint-field channelMidpoint 5"/>
        </div>
        <div class="command-settings-channel-deadzones">
            <div class="command-settings-label">CH0 Deadzone</div><input class="command-settings-channelDeadzone-field channelDeadzone 0"/>
            <div class="command-settings-label">CH1 Deadzone</div><input class="command-settings-channelDeadzone-field channelDeadzone 1"/>
            <div class="command-settings-label">CH2 Deadzone</div><input class="command-settings-channelDeadzone-field channelDeadzone 2"/>
            <div class="command-settings-label">CH3 Deadzone</div><input class="command-settings-channelDeadzone-field channelDeadzone 3"/>
            <div class="command-settings-label">CH4 Deadzone</div><input class="command-settings-channelDeadzone-field channelDeadzone 4"/>
            <div class="command-settings-label">CH5 Deadzone</div><input class="command-settings-channelDeadzone-field channelDeadzone 5"/>
        </div>

        <div class="command-settings-assigned-channels">
            <div class="command-settings-label">Throttle Channel</div><input class="command-settings-assignedChannel-field assignedChannel 0"/>
            <div class="command-settings-label">Pitch Channel</div><input class="command-settings-assignedChannel-field assignedChannel 1"/>
            <div class="command-settings-label">Roll Channel</div><input class="command-settings-assignedChannel-field assignedChannel 2"/>
            <div class="command-settings-label">Yaw Channel</div><input class="command-settings-assignedChannel-field assignedChannel 3"/>
            <div class="command-settings-label">AUX 1 Channel</div><input class="command-settings-assignedChannel-field assignedChannel 4"/>
            <div class="command-settings-label">AUX 2 Channel</div><input class="command-settings-assignedChannel-field assignedChannel 5"/>
        </div>

        <div class="command-settings-commandInversion">
            <div class="command-settings-label" style="width:105px">Invert Pitch Channel</div><input type='checkbox' class="command-settings-checkbox-inversion bitfield commandInversion 0"/>
            <div class="command-settings-label" style="width:105px">Invert Roll Channel</div><input type='checkbox' class="command-settings-checkbox-inversion bitfield commandInversion 1"/>
            <div class="command-settings-label" style="width:105px">Invert Yaw Channel</div><input type='checkbox' class="command-settings-checkbox-inversion bitfield commandInversion 2"/>
        </div>
        <div class="command-settings-scale-factors">
            <div class="command-settings-master-row">
                <div class="command-settings-label">Throttle to Altitude (meters)</div><input class="command-settings-commandScaling-field thrustMasterPIDParameters 6"/>
                <div class="command-settings-label">Pitch to Angle (deg)</div><input class="command-settings-commandScaling-field pitchMasterPIDParameters 6"/>
                <div class="command-settings-label">Roll to Angle (deg)</div><input class="command-settings-commandScaling-field rollMasterPIDParameters 6"/>
                <div class="command-settings-label">Yaw to Angle (deg)</div><input class="command-settings-commandScaling-field yawMasterPIDParameters 6"/>
            </div>
            <div class="command-settings-slave-row">
                <div class="command-settings-label">Throttle to Climb Rate (m/sec)</div><input class="command-settings-commandScaling-field thrustSlavePIDParameters 6"/>
                <div class="command-settings-label">Pitch to Rate (deg/sec)</div><input class="command-settings-commandScaling-field pitchSlavePIDParameters 6"/>
                <div class="command-settings-label">Roll to Rate (deg/sec)</div><input class="command-settings-commandScaling-field rollSlavePIDParameters 6"/>
                <div class="command-settings-label">Yaw to Rate (deg/sec)</div><input class="command-settings-commandScaling-field yawSlavePIDParameters 6"/>
            </div>
        </div>
    </div>

    <div class="command-settings-aux-levels">
 		<div class="led-green" id="auxbit00"><div class="led-label">AUX1 LOW</div></div>
		<div class="led-green" id="auxbit01"><div class="led-label">AUX1 MID</div></div>
		<div class="led-green" id="auxbit02"><div class="led-label">AUX1 HIGH</div></div>
		<div class="led-green" id="auxbit03"><div class="led-label">AUX2 LOW</div></div>
		<div class="led-green" id="auxbit04"><div class="led-label">AUX2 MID</div></div>
		<div class="led-green" id="auxbit05"><div class="led-label">AUX2 HIGH</div></div>
    </div>

    <p style="margin-top:20px">The master pid loop will be driven with these scaled command setpoints (target state values):</p>
    <div plot-series value="{x:state.timestamp_us, y:masterSetpoints}" labels="Fz (m)|Tx (deg)|Ty (deg)|Tz (deg)" title="Master PID Setpoints"/>

    <p style="margin-top:20px">If the master pid is bypassed, the slave pid loop will be driven with these scaled command setpoints (target state derivitive values):</p>
    <div plot-series value="{x:state.timestamp_us, y:slaveSetpoints}" labels="Fz (m/s)|Tx (deg/s)|Ty (deg/s)|Tz (deg/s)" title="Slave PID Setpoints"/>

    <p style="margin-top:20px">If both the master pid and the slave pid are bypassed, the airframe will be powered with these levels:</p>
    <div plot-series value="{x:state.timestamp_us, y:outputLevels}" labels="Fz (pwm counts)|Tx (pwm counts)|Ty (pwm counts)|Tz (pwm counts)" title="Direct PWM Output Levels"/>

</div>
